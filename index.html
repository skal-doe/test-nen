<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test de Type de Nen</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #333;
      }

      .container {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 30px;
        max-width: 700px;
        width: 90%;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(10px);
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
      }

      .header h1 {
        color: #4a5568;
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }

      .header p {
        color: #718096;
        font-size: 1.1em;
      }

      .question-container {
        margin-bottom: 30px;
        opacity: 0;
        transform: translateY(20px);
        animation: slideIn 0.6s ease forwards;
      }

      @keyframes slideIn {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .question {
        background: linear-gradient(135deg, #f7fafc, #edf2f7);
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 20px;
        border-left: 5px solid #667eea;
      }

      .question h3 {
        color: #2d3748;
        margin-bottom: 15px;
        font-size: 1.2em;
      }

      .options {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .option {
        background: white;
        border: 2px solid #e2e8f0;
        border-radius: 10px;
        padding: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .option:hover {
        border-color: #667eea;
        transform: translateX(5px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
      }

      .option.selected {
        border-color: #667eea;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        transform: scale(1.02);
      }

      .option::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.5s;
      }

      .option:hover::before {
        left: 100%;
      }

      input[type="radio"] {
        display: none;
      }

      .btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 50px;
        font-size: 1.1em;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        display: block;
        margin: 30px auto 0;
      }

      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
      }

      .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .progress-bar {
        background: #e2e8f0;
        height: 6px;
        border-radius: 3px;
        margin-bottom: 20px;
        overflow: hidden;
      }

      .progress {
        background: linear-gradient(135deg, #667eea, #764ba2);
        height: 100%;
        width: 0%;
        transition: width 0.5s ease;
        border-radius: 3px;
      }

      .result {
        display: none;
        text-align: center;
        animation: fadeIn 1s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .result h2 {
        font-size: 2.5em;
        margin-bottom: 20px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .result-description {
        background: linear-gradient(135deg, #f7fafc, #edf2f7);
        border-radius: 15px;
        padding: 25px;
        margin-top: 20px;
        border-left: 5px solid #667eea;
      }

      .nen-abilities {
        background: white;
        border-radius: 15px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .hidden {
        display: none;
      }

      @media (max-width: 600px) {
        .container {
          padding: 20px;
          margin: 20px;
        }

        .header h1 {
          font-size: 2em;
        }

        .option {
          padding: 12px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üîÆ Test de Type de Nen</h1>
        <p>
          D√©couvrez quel type de Nen correspond √† votre personnalit√© dans
          l'univers de Hunter x Hunter
        </p>
      </div>

      <div class="progress-bar">
        <div class="progress" id="progressBar"></div>
      </div>

      <div id="quiz">
        <!-- Questions will be inserted here -->
      </div>

      <button class="btn" id="nextBtn" onclick="nextQuestion()" disabled>
        Question Suivante
      </button>
      <button class="btn hidden" id="resultBtn" onclick="showResult()">
        Voir Mon Type de Nen
      </button>

      <div class="result" id="result">
        <h2 id="resultType"></h2>
        <div class="result-description" id="resultDescription"></div>
        <div class="nen-abilities" id="nenAbilities"></div>
        <button class="btn" onclick="restartQuiz()">Refaire le Test</button>
      </div>
    </div>

    <script>
      const questions = [
        {
          question:
            "Dans une situation de combat, quelle est votre premi√®re r√©action ?",
          options: [
            {
              text: "Foncer directement sur l'ennemi avec force",
              type: "Renforcement",
            },
            {
              text: "Analyser la situation et cr√©er un plan d√©taill√©",
              type: "Mat√©rialisation",
            },
            {
              text: "Utiliser la ruse et manipuler l'environnement",
              type: "Manipulation",
            },
            { text: "Attaquer √† distance en restant mobile", type: "√âmission" },
            {
              text: "Adapter ma strat√©gie selon l'adversaire",
              type: "Transmutation",
            },
            {
              text: "Faire confiance √† mon instinct unique",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question: "Quel type d'entra√Ænement pr√©f√©rez-vous ?",
          options: [
            {
              text: "Entra√Ænement physique intensif et r√©p√©titif",
              type: "Renforcement",
            },
            {
              text: "√âtude th√©orique et cr√©ation d'outils",
              type: "Mat√©rialisation",
            },
            {
              text: "Exercices de concentration et de contr√¥le mental",
              type: "Manipulation",
            },
            {
              text: "Entra√Ænement de pr√©cision et de projection",
              type: "√âmission",
            },
            {
              text: "Exercices de flexibilit√© et d'adaptation",
              type: "Transmutation",
            },
            {
              text: "M√©ditation et d√©veloppement de capacit√©s uniques",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question: "Comment r√©solvez-vous les probl√®mes complexes ?",
          options: [
            {
              text: "En pers√©v√©rant jusqu'√† trouver une solution",
              type: "Renforcement",
            },
            {
              text: "En cr√©ant des outils ou syst√®mes pour m'aider",
              type: "Mat√©rialisation",
            },
            {
              text: "En influen√ßant les autres pour qu'ils m'aident",
              type: "Manipulation",
            },
            { text: "En gardant mes distances et observant", type: "√âmission" },
            {
              text: "En changeant d'approche selon la situation",
              type: "Transmutation",
            },
            {
              text: "En utilisant des m√©thodes peu conventionnelles",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question:
            "Si vous pouviez avoir un animal de compagnie, lequel choisiriez-vous ?",
          options: [
            { text: "Un chien loyal et protecteur", type: "Renforcement" },
            {
              text: "Un chat ind√©pendant et observateur",
              type: "Mat√©rialisation",
            },
            {
              text: "Un perroquet intelligent qui peut parler",
              type: "Manipulation",
            },
            { text: "Un faucon libre et rapide", type: "√âmission" },
            {
              text: "Un cam√©l√©on qui s'adapte √† son environnement",
              type: "Transmutation",
            },
            { text: "Une cr√©ature mythique unique", type: "Sp√©cialisation" },
          ],
        },
        {
          question: "Quelle est votre plus grande force ?",
          options: [
            {
              text: "Ma d√©termination et ma force de volont√©",
              type: "Renforcement",
            },
            {
              text: "Ma capacit√© √† planifier et organiser",
              type: "Mat√©rialisation",
            },
            {
              text: "Mon charisme et ma capacit√© d'influence",
              type: "Manipulation",
            },
            { text: "Mon ind√©pendance et ma pr√©cision", type: "√âmission" },
            {
              text: "Ma cr√©ativit√© et ma capacit√© d'adaptation",
              type: "Transmutation",
            },
            {
              text: "Mon intuition et ma vision unique",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question: "Quelle couleur vous attire le plus ?",
          options: [
            { text: "Rouge - passion et √©nergie", type: "Renforcement" },
            { text: "Bleu - logique et stabilit√©", type: "Mat√©rialisation" },
            { text: "Violet - myst√®re et influence", type: "Manipulation" },
            { text: "Vert - ind√©pendance et nature", type: "√âmission" },
            { text: "Jaune - cr√©ativit√© et changement", type: "Transmutation" },
            {
              text: "Noir/Blanc - contraste et unicit√©",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question: "Dans un groupe, quel r√¥le jouez-vous naturellement ?",
          options: [
            {
              text: "Le protecteur qui d√©fend le groupe",
              type: "Renforcement",
            },
            {
              text: "Le strat√®ge qui planifie les actions",
              type: "Mat√©rialisation",
            },
            { text: "Le leader qui guide et motive", type: "Manipulation" },
            { text: "L'√©claireur qui agit en solitaire", type: "√âmission" },
            {
              text: "Le support qui s'adapte aux besoins",
              type: "Transmutation",
            },
            {
              text: "Le sp√©cialiste avec des comp√©tences uniques",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question:
            "Comment pr√©f√©rez-vous apprendre de nouvelles comp√©tences ?",
          options: [
            {
              text: "Par la pratique r√©p√©t√©e jusqu'√† la ma√Ætrise",
              type: "Renforcement",
            },
            {
              text: "En √©tudiant d'abord la th√©orie en d√©tail",
              type: "Mat√©rialisation",
            },
            {
              text: "En demandant √† d'autres de m'enseigner",
              type: "Manipulation",
            },
            { text: "En observant et exp√©rimentant seul", type: "√âmission" },
            { text: "En essayant diff√©rentes m√©thodes", type: "Transmutation" },
            {
              text: "En d√©veloppant ma propre approche",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question: "Quelle approche pr√©f√©rez-vous face √† l'inconnu ?",
          options: [
            {
              text: "Affronter directement sans h√©sitation",
              type: "Renforcement",
            },
            {
              text: "Pr√©parer tous les outils n√©cessaires avant",
              type: "Mat√©rialisation",
            },
            {
              text: "Rassembler des alli√©s et des informations",
              type: "Manipulation",
            },
            {
              text: "Observer d'abord depuis une position s√ªre",
              type: "√âmission",
            },
            { text: "Rester flexible et improviser", type: "Transmutation" },
            {
              text: "Faire confiance √† mon instinct particulier",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question: "Quel environnement vous inspire le plus ?",
          options: [
            {
              text: "Une salle d'entra√Ænement ou un gymnase",
              type: "Renforcement",
            },
            {
              text: "Une biblioth√®que ou un laboratoire",
              type: "Mat√©rialisation",
            },
            {
              text: "Un lieu de rassemblement social anim√©",
              type: "Manipulation",
            },
            { text: "Un endroit isol√© dans la nature", type: "√âmission" },
            { text: "Un lieu qui change constamment", type: "Transmutation" },
            {
              text: "Un endroit myst√©rieux et inexplor√©",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question: "Quel est votre style de vie id√©al ?",
          options: [
            {
              text: "Simple et direct, ax√© sur l'essentiel",
              type: "Renforcement",
            },
            {
              text: "Organis√© et m√©thodique avec des routines",
              type: "Mat√©rialisation",
            },
            {
              text: "Social et entour√© de personnes influentes",
              type: "Manipulation",
            },
            {
              text: "Ind√©pendant avec beaucoup d'espace personnel",
              type: "√âmission",
            },
            {
              text: "Vari√© et plein de nouvelles exp√©riences",
              type: "Transmutation",
            },
            {
              text: "Unique et en marge des conventions",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question: "Face √† la critique, comment r√©agissez-vous ?",
          options: [
            {
              text: "Je m'entra√Æne plus dur pour m'am√©liorer",
              type: "Renforcement",
            },
            {
              text: "J'analyse objectivement les points √† corriger",
              type: "Mat√©rialisation",
            },
            {
              text: "Je cherche √† comprendre les motivations du critique",
              type: "Manipulation",
            },
            {
              text: "Je prends du recul et √©value calmement",
              type: "√âmission",
            },
            {
              text: "Je change d'approche si n√©cessaire",
              type: "Transmutation",
            },
            {
              text: "Je reste fid√®le √† ma vision personnelle",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question: "Comment g√©rez-vous le stress ?",
          options: [
            { text: "Par l'activit√© physique intense", type: "Renforcement" },
            {
              text: "En organisant et planifiant davantage",
              type: "Mat√©rialisation",
            },
            {
              text: "En parlant avec d'autres personnes",
              type: "Manipulation",
            },
            { text: "En m'isolant pour r√©fl√©chir seul", type: "√âmission" },
            {
              text: "En changeant d'environnement ou d'activit√©",
              type: "Transmutation",
            },
            {
              text: "Par des m√©thodes personnelles peu communes",
              type: "Sp√©cialisation",
            },
          ],
        },
        {
          question: "Quel type de d√©fi vous motive le plus ?",
          options: [
            {
              text: "Tester mes limites physiques et mentales",
              type: "Renforcement",
            },
            { text: "R√©soudre des √©nigmes complexes", type: "Mat√©rialisation" },
            { text: "Convaincre quelqu'un de difficile", type: "Manipulation" },
            {
              text: "Atteindre un objectif en totale autonomie",
              type: "√âmission",
            },
            {
              text: "S'adapter √† des situations impr√©visibles",
              type: "Transmutation",
            },
            {
              text: "Accomplir quelque chose d'impossible",
              type: "Sp√©cialisation",
            },
          ],
        },
      ];

      const nenTypes = {
        Renforcement: {
          description:
            "Les Renforceurs incarnent la pure d√©termination et la simplicit√© efficace. Naturellement honn√™tes et directs, ils croient en la force brute et la pers√©v√©rance comme solutions √† tous les probl√®mes. Leur approche straightforward cache une profondeur √©motionnelle remarquable et une loyaut√© in√©branlable envers leurs proches. Ils pr√©f√®rent l'action aux paroles et n'h√©sitent jamais √† se mettre en danger pour prot√©ger ce qui leur est cher. Leur optimisme naturel et leur capacit√© √† rebondir apr√®s les √©checs font d'eux des piliers sur lesquels les autres peuvent s'appuyer.",
          abilities:
            "‚Ä¢ Augmentation drastique de la force physique et de l'endurance\n‚Ä¢ Gu√©rison acc√©l√©r√©e et r√©cup√©ration rapide\n‚Ä¢ Renforcement d'objets pour les rendre quasi-indestructibles\n‚Ä¢ Techniques de combat au corps √† corps d√©vastatrices\n‚Ä¢ D√©fense exceptionnelle contre les attaques physiques et √©nerg√©tiques\n‚Ä¢ R√©sistance accrue aux poisons et maladies\n‚Ä¢ Capacit√© √† transf√©rer leur force √† d'autres",
          characters:
            "Personnages embl√©matiques : Gon Freecss (protagoniste d√©termin√©), Uvogin (Brigade Fant√¥me), Wing (ma√Ætre de Gon et Killua)",
          personality:
            "Traits dominants : Honn√™tet√©, d√©termination, simplicit√©, loyaut√©, optimisme, courage physique",
        },
        √âmission: {
          description:
            "Les √âmetteurs sont des √¢mes libres qui valorisent leur ind√©pendance par-dessus tout. Naturellement impatients et directs, ils d√©testent √™tre contraints ou contr√¥l√©s et pr√©f√®rent agir selon leurs propres termes. Leur tendance √† maintenir une distance √©motionnelle et physique ne refl√®te pas un manque d'empathie, mais plut√¥t un besoin profond de libert√© et d'autonomie. Ils excellent dans les situations o√π ils peuvent utiliser leur mobilit√© et leur capacit√© √† frapper de loin, √©vitant les confrontations directes prolong√©es.",
          abilities:
            "‚Ä¢ Projection d'aura √† tr√®s longue distance\n‚Ä¢ Attaques √©nerg√©tiques d√©vastatrices (beams, orbes)\n‚Ä¢ T√©l√©portation personnelle ou d'objets\n‚Ä¢ Communication t√©l√©pathique √† distance\n‚Ä¢ Contr√¥le d'objets √† distance sans contact\n‚Ä¢ Cr√©ation de portails ou de passages\n‚Ä¢ S√©paration de l'aura du corps pour des actions autonomes",
          characters:
            "Personnages embl√©matiques : Razor (ma√Ætre de Greed Island), Leorio Paradinight (futur m√©decin), Franklin (Brigade Fant√¥me)",
          personality:
            "Traits dominants : Ind√©pendance, impatience, franchise, mobilit√©, autonomie, esprit libre",
        },
        Manipulation: {
          description:
            "Les Manipulateurs sont des strat√®ges n√©s qui comprennent intuitivement les dynamiques de pouvoir et d'influence. Sociaux et charismatiques, ils excellent dans l'art de convaincre et de diriger les autres vers leurs objectifs. Leur nature argumentatrice et leur besoin de contr√¥le peuvent parfois les faire para√Ætre dominateurs, mais ils utilisent g√©n√©ralement ces traits pour le bien du groupe. Ils voient le monde comme un grand √©chiquier o√π chaque pi√®ce a son r√¥le √† jouer, et ils excellent √† orchestrer ces mouvements complexes.",
          abilities:
            "‚Ä¢ Contr√¥le mental direct des personnes\n‚Ä¢ Manipulation d'objets inanim√©s √† volont√©\n‚Ä¢ Cr√©ation de r√®gles et conditions contraignantes\n‚Ä¢ Influence √©motionnelle subtile sur les groupes\n‚Ä¢ Contr√¥le d'animaux et de cr√©atures diverses\n‚Ä¢ Implantation de suggestions post-hypnotiques\n‚Ä¢ Cr√©ation de syst√®mes de contr√¥le automatis√©s",
          characters:
            "Personnages embl√©matiques : Shalnark (Brigade Fant√¥me), Illumi Zoldyck (assassin manipulateur), Morel (Chasseur professionnel)",
          personality:
            "Traits dominants : Charisme, sens du contr√¥le, sociabilit√©, argumentation, leadership, strat√©gie",
        },
        Transmutation: {
          description:
            "Les Transmuteurs sont les cam√©l√©ons du monde du Nen, capables de s'adapter √† n'importe quelle situation avec une cr√©ativit√© d√©concertante. Leur nature impr√©visible et parfois trompeuse cache un esprit brillant capable de solutions innovantes. Ils aiment le changement et s'ennuient rapidement des routines, pr√©f√©rant explorer de nouvelles possibilit√©s et repousser les limites de ce qui est possible. Leur approche flexible de la vie les rend parfois difficiles √† cerner, mais toujours fascinants.",
          abilities:
            "‚Ä¢ Modification des propri√©t√©s de l'aura (texture, temp√©rature, densit√©)\n‚Ä¢ Imitation parfaite d'√©l√©ments naturels (√©lectricit√©, feu, caoutchouc)\n‚Ä¢ Techniques d'illusion sophistiqu√©es\n‚Ä¢ Adaptation instantan√©e des capacit√©s au combat\n‚Ä¢ Cr√©ation de substances aux propri√©t√©s impossibles\n‚Ä¢ Camouflage et m√©tamorphose de l'aura\n‚Ä¢ Combinaison cr√©ative de plusieurs propri√©t√©s",
          characters:
            "Personnages embl√©matiques : Hisoka (magicien psychopathe), Killua Zoldyck (assassin √©lectrisant), Machi (Brigade Fant√¥me)",
          personality:
            "Traits dominants : Cr√©ativit√©, impr√©visibilit√©, adaptabilit√©, ruse, innovation, changement constant",
        },
        Mat√©rialisation: {
          description:
            "Les Mat√©rialisateurs sont les architectes du monde du Nen, alliant logique rigoureuse et imagination cr√©atrice. Perfectionnistes dans l'√¢me, ils planifient m√©ticuleusement chaque d√©tail avant d'agir et n'acceptent jamais un travail √† moiti√© fait. Leur approche m√©thodique et leur besoin d'ordre peuvent parfois les faire para√Ætre rigides, mais cette discipline leur permet de cr√©er des objets et des syst√®mes d'une complexit√© extraordinaire. Ils voient chaque probl√®me comme un puzzle √† r√©soudre avec les bons outils.",
          abilities:
            "‚Ä¢ Cr√©ation d'objets complexes aux propri√©t√©s uniques\n‚Ä¢ Armes et outils sp√©cialis√©s parfaitement adapt√©s\n‚Ä¢ Espaces de stockage dimensionnels\n‚Ä¢ Objets √©volutifs qui s'am√©liorent avec l'usage\n‚Ä¢ Constructions architecturales temporaires ou permanentes\n‚Ä¢ Syst√®mes m√©caniques autonomes\n‚Ä¢ R√©plication d'objets existants avec am√©liorations",
          characters:
            "Personnages embl√©matiques : Kurapika (vengeur aux cha√Ænes), Shizuku (aspirateur vivant), Kortopi (copieur de la Brigade)",
          personality:
            "Traits dominants : Logique, organisation, perfectionnisme, m√©thode, planification, pr√©cision",
        },
        Sp√©cialisation: {
          description:
            "Les Sp√©cialisateurs sont les v√©ritables √©nigmes du monde du Nen, poss√©dant des capacit√©s qui d√©fient toute classification traditionnelle. Individualistes par nature, ils marchent sur leur propre chemin et d√©veloppent des pouvoirs qui refl√®tent leur personnalit√© unique et souvent complexe. Leur charisme naturel et leur excentricit√© les distinguent dans toute foule, mais leur vraie force r√©side dans leur capacit√© √† transcender les r√®gles normales du Nen. Ils sont souvent des visionnaires incompris, capables de r√©alisations que personne d'autre ne pourrait accomplir.",
          abilities:
            "‚Ä¢ Capacit√©s totalement uniques d√©fiant la logique\n‚Ä¢ Pouvoirs √©voluant de mani√®re impr√©visible\n‚Ä¢ Techniques impossibles √† reproduire ou comprendre\n‚Ä¢ Abilities li√©es √† des conditions ou √©motions sp√©ciales\n‚Ä¢ Manipulation de concepts abstraits (temps, destin, m√©moire)\n‚Ä¢ Fusion de plusieurs types de Nen en une seule technique\n‚Ä¢ Cr√©ation de ph√©nom√®nes surnaturels inexplicables",
          characters:
            "Personnages embl√©matiques : Chrollo Lucilfer (voleur de talents), Neon Nostrade (proph√©tesse), Meruem (Roi des Chim√®res), Kurapika (yeux √©carlates)",
          personality:
            "Traits dominants : Individualisme, charisme, excentricit√©, vision unique, myst√®re, transcendance",
        },
      };

      let currentQuestion = 0;
      let answers = {};
      let scores = {
        Renforcement: 0,
        √âmission: 0,
        Manipulation: 0,
        Transmutation: 0,
        Mat√©rialisation: 0,
        Sp√©cialisation: 0,
      };

      function loadQuestion() {
        const quiz = document.getElementById("quiz");
        const question = questions[currentQuestion];

        quiz.innerHTML = `
        <div class="question-container">
            <div class="question">
                <h3>Question ${currentQuestion + 1}/${questions.length}</h3>
                <p>${question.question}</p>
                <p style="font-size: 0.9em; color: #666; margin-top: 10px;"><em>Choisissez 1 ou 2 r√©ponses maximum</em></p>
            </div>
            <div class="options">
                ${question.options
                  .map(
                    (option, index) => `
                    <label class="option" for="q${currentQuestion}_${index}">
                        <input type="checkbox" id="q${currentQuestion}_${index}" name="q${currentQuestion}" value="${option.type}">
                        ${option.text}
                    </label>
                `
                  )
                  .join("")}
            </div>
        </div>
    `;

        // Add event listeners
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach((checkbox) => {
          checkbox.addEventListener("change", function () {
            const checkedBoxes = document.querySelectorAll(
              `input[name="q${currentQuestion}"]:checked`
            );

            // Limit to 2 selections
            if (checkedBoxes.length > 2) {
              this.checked = false;
              return;
            }

            // Update visual feedback
            document
              .querySelectorAll(".option")
              .forEach((opt) => opt.classList.remove("selected"));
            checkedBoxes.forEach((box) =>
              box.parentElement.classList.add("selected")
            );

            // Store answers
            answers[currentQuestion] = Array.from(checkedBoxes).map(
              (box) => box.value
            );

            // Enable next button if at least one option is selected
            document.getElementById("nextBtn").disabled =
              checkedBoxes.length === 0;
          });
        });

        updateProgress();
      }

      function updateProgress() {
        const progress = (currentQuestion / questions.length) * 100;
        document.getElementById("progressBar").style.width = progress + "%";
      }

      function nextQuestion() {
        if (currentQuestion < questions.length - 1) {
          currentQuestion++;
          loadQuestion();
          document.getElementById("nextBtn").disabled = true;
        } else {
          document.getElementById("nextBtn").classList.add("hidden");
          document.getElementById("resultBtn").classList.remove("hidden");
          document.getElementById("progressBar").style.width = "100%";
        }
      }

      function calculateResult() {
        // Reset scores
        Object.keys(scores).forEach((key) => (scores[key] = 0));

        // Calculate scores
        Object.values(answers).forEach((answerArray) => {
          answerArray.forEach((answer) => {
            scores[answer]++;
          });
        });

        // Find the highest score
        let maxScore = 0;
        let resultType = "";

        Object.entries(scores).forEach(([type, score]) => {
          if (score > maxScore) {
            maxScore = score;
            resultType = type;
          }
        });

        return resultType;
      } 

      function showResult() {
        const resultType = calculateResult();
        const result = nenTypes[resultType];

        document.getElementById("quiz").style.display = "none";
        document.getElementById("resultBtn").style.display = "none";

        document.getElementById(
          "resultType"
        ).textContent = `Votre type de Nen : ${resultType}`;
        document.getElementById("resultDescription").innerHTML = `
        <h4>Description de votre personnalit√© :</h4>
        <p>${result.description}</p>
        <br>
        <h4>Traits de personnalit√© dominants :</h4>
        <p><em>${result.personality}</em></p>
        <br>
        <p><strong>${result.characters}</strong></p>
    `;
        document.getElementById("nenAbilities").innerHTML = `
        <h4>Capacit√©s typiques :</h4>
        <pre style="white-space: pre-line; font-family: Arial, sans-serif;">${result.abilities}</pre>
    `;

        document.getElementById("result").style.display = "block";
      }

      function restartQuiz() {
        currentQuestion = 0;
        answers = {};
        scores = {
          Renforcement: 0,
          √âmission: 0,
          Manipulation: 0,
          Transmutation: 0,
          Mat√©rialisation: 0,
          Sp√©cialisation: 0,
        };

        document.getElementById("quiz").style.display = "block";
        document.getElementById("result").style.display = "none";
        document.getElementById("nextBtn").classList.remove("hidden");
        document.getElementById("nextBtn").disabled = true;
        document.getElementById("resultBtn").classList.add("hidden");

        loadQuestion();
      }

      // Initialize the quiz
      loadQuestion();
    </script>
  </body>
</html>
